
{% load i18n %}


{% block content %}


<div class="container ">
  <h1>{% trans "Formulario de registro" %}</h1>

  <p>{% blocktrans %}Already have an account? Then please <a href="{{ login_url }}">sign in</a>.{% endblocktrans %}</p>

  <form class="signup" id="formRegister">
    {% csrf_token %}

    <div class="row mb-4">
      <div class="col">

        <div class="form-outline">
          <input type="text" name="first_name" maxlength="20" class="form-control" required="" id="id_first_name">
          <label for="id_first_name" class="form-label">First name</label>
        </div>
      </div>
      <div class="col">

        <div class="form-outline">
          <input type="text" name="last_name" maxlength="20" class="form-control" required="" id="id_last_name"> <label
            for="id_last_name" class="form-label">Last name</label>
        </div>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
          <input type="text" name="dni" maxlength="8" class="form-control" required="" id="id_dni"> <label for="id_dni"
            class="form-label">Dni</label>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <input type="text" name="celular" maxlength="9" class="form-control" required="" id="id_celular"> <label
            for="id_celular" class="form-label">Celular</label>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <input type="text" name="fechanac" class="form-control" required="" id="id_fechanac"><label for="id_fechanac "
            class="form-label">Fecha de nacimiento</label>
        </div>
      </div>
    </div>



    <div class="form-outline mb-4">
      <input type="email" name="email" placeholder="Correo electrónico" autocomplete="email" class="form-control"
        required="" id="id_email">
      <label for="id_email" class="form-label">Correo electrónico</label>
    </div>


    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
          <input type="password" name="password1" placeholder="Contraseña" autocomplete="new-password"
            class="form-control" required="" id="id_password1">
          <label for="id_password1" class="form-label">Contraseña:</label>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <input type="password" name="password2" placeholder="Contraseña (de nuevo)" class="form-control" required=""
            id="id_password2"> <label for="id_password2" class="form-label">Contraseña (de nuevo):</label>
        </div>
      </div>
    </div>

    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}
    <button type="submit" class="btn btn-primary">{% trans "Sign Up" %} &raquo;</button>
  </form>
</div>
<style>
  .jconfirm {
    z-index: 500 !important;
  }
</style>



{% endblock %}
{% block js_page %}
<script>
  $("#formRegister").submit(function (e) {
    e.preventDefault();
    $.ajax({
      type: "POST",
      url: "{% url 'base:register' %}",
      data: $(this).serialize(),
      success: function (response) {
        console.log(response)
        if (response.hasOwnProperty("error")) {
          console.log("error");
          $("#id_password1").val("")
          $("#id_password2").val("")

        }
      }
    });
  });
</script>
{% endblock js_page %}